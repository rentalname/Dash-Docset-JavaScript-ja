<!DOCTYPE html>
<html lang="ja" dir="ltr" class="redesign no-js">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <script>(function(d) { d.className = d.className.replace(/\bno-js/, ''); })(document.documentElement);</script>
          <script src="https://cdn.optimizely.com/js/237572123.js"></script>
  
    <title>Manipulating the browser history - Web developer guide | MDN</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="index, follow">
  <link rel="home" href="../../../../index.html">
  <link rel="copyright" href="Manipulating_the_browser_history.html#copyright">

  <link href="https://mozorg.cdn.mozilla.net/media/css/tabzilla-min.css" type="text/css" rel="stylesheet">
              <link rel="stylesheet" media="all" href="https://developer.cdn.mozilla.net/media/css/mdn-min.css?build=46533d5" />

      
    <link rel="stylesheet" media="all" href="https://developer.cdn.mozilla.net/media/css/wiki-min.css?build=46533d5" />

    
    
  <!-- common social tags -->
    <meta property="og:type" content="website">
  <meta property="og:image" content="https://developer.mozilla.org/media/redesign/img/opengraph-logo.png">
  <meta property="og:site_name" content="Mozilla Developer Network">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="https://developer.mozilla.org/media/redesign/img/opengraph-logo.png">
  <meta name="twitter:site" content="@NewOnMDN">
  <meta name="twitter:creator" content="@NewOnMDN">

  <link rel="search" type="application/opensearchdescription+xml" href="../../../../search/xml" title="Mozilla Developer Network">

  <!-- third-generation iPad with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://developer.cdn.mozilla.net/media/redesign/img/favicon144.png">
  <!-- iPhone with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://developer.cdn.mozilla.net/media/redesign/img/favicon114.png">
  <!-- first- and second-generation iPad: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://developer.cdn.mozilla.net/media/redesign/img/favicon72.png">
  <!-- non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="https://developer.cdn.mozilla.net/media/redesign/img/favicon57.png">
  <!-- basic favicon -->
          <link rel="shortcut icon" href="https://developer.cdn.mozilla.net/media/redesign/img/favicon32.png">
  <!--[if IE]>
  <meta http-equiv="imagetoolbar" content="no">
  <script src="https://developer.cdn.mozilla.net/media/js/libs/html5.js"></script>
  <![endif]-->

    <link rel="alternate" type="application/json" href="https://developer.mozilla.org/ja/docs/Web/Guide/DOM/Manipulating_the_browser_history$json">
  <link rel="canonical" href="Manipulating_the_browser_history.html" >

            <link rel="alternate" hreflang="en-US" href="https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Manipulating_the_browser_history" title="Manipulating the browser history">
          <link rel="alternate" hreflang="es" href="https://developer.mozilla.org/es/docs/DOM/Manipulando_el_historial_del_navegador" title="Manipulando el historial del navegador">
          <link rel="alternate" hreflang="fr" href="https://developer.mozilla.org/fr/docs/Web/Guide/DOM/Manipuler_historique_du_navigateur" title="Manipuler l&#39;historique du navigateur">
          <link rel="alternate" hreflang="zh-CN" href="https://developer.mozilla.org/zh-CN/docs/DOM/Manipulating_the_browser_history" title="操纵浏览器的历史记录">
          <link rel="alternate" hreflang="de" href="https://developer.mozilla.org/de/docs/Web/Guide/DOM/Manipulating_the_browser_history" title="Manipulieren des Browser-Verlaufes">
          <link rel="alternate" hreflang="zh-TW" href="https://developer.mozilla.org/zh-TW/docs/Web/Guide/API/DOM/Manipulating_the_browser_history/Manipulating_the_browser_history" title="Manipulating the browser history">
      
  <!-- document-specific social tags -->
  <meta property="og:title" content="Manipulating the browser history">
  <meta property="og:url" content="https://developer.mozilla.org/ja/docs/Web/Guide/DOM/Manipulating_the_browser_history">
  <meta name="twitter:url" content="https://developer.mozilla.org/ja/docs/Web/Guide/DOM/Manipulating_the_browser_history">
  <meta name="twitter:title" content="Manipulating the browser history">
    <meta property="og:description" content="DOM window オブジェクトは history オブジェクトを介したブラウザの履歴へのアクセスを提供しています。このオブジェクトでは、前のページに戻ったり、（ HTML5 からは履歴スタックの中身を操作できるなど）ユーザーの履歴を行き来するのに便利なメソッドとプロパティが顕わになっています。">
  <meta name="description" content="DOM window オブジェクトは history オブジェクトを介したブラウザの履歴へのアクセスを提供しています。このオブジェクトでは、前のページに戻ったり、（ HTML5 からは履歴スタックの中身を操作できるなど）ユーザーの履歴を行き来するのに便利なメソッドとプロパティが顕わになっています。">
  <meta name="twitter:description" content="DOM window オブジェクトは history オブジェクトを介したブラウザの履歴へのアクセスを提供しています。このオブジェクトでは、前のページに戻ったり、（ HTML5 からは履歴スタックの中身を操作できるなど）ユーザーの履歴を行き来するのに便利なメソッドとプロパティが顕わになっています。">
  
      <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-36116321-5', 'mozilla.org');
    ga('set', 'anonymizeIp', true);

    
    
    
    
    (function() {
        // http://cfsimplicity.com/61/removing-analytics-clutter-from-campaign-urls
        var win = window;
        var removeUtms = function(){
            var location = win.location;
            if (location.hash.indexOf('utm') != -1) {
                var anchor = location.hash.match(/#(?!utm)[^&]+/);
                anchor = anchor ? anchor[0] : '';
                if(!anchor && win.history.replaceState){
                    history.replaceState({}, '', location.pathname + location.search);
                } else {
                    location.hash = anchor;
                }
            }
        };

        ga('send', 'pageview', removeUtms(win.location + ''));
    })();
</script>
  <script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={xpid:"VgAEV1RTGwABU1NSAAQ="};window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o?o:e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({QJf3ax:[function(t,e){function n(t){function e(e,n,a){t&&t(e,n,a),a||(a={});for(var c=s(e),u=c.length,f=i(a,o,r),d=0;u>d;d++)c[d].apply(f,n);return f}function a(t,e){u[t]=s(t).concat(e)}function s(t){return u[t]||[]}function c(){return n(e)}var u={};return{on:a,emit:e,create:c,listeners:s,_events:u}}function r(){return{}}var o="nr@context",i=t("gos");e.exports=n()},{gos:"7eSDFh"}],ee:[function(t,e){e.exports=t("QJf3ax")},{}],3:[function(t){function e(t,e,n,i,s){try{c?c-=1:r("err",[s||new UncaughtException(t,e,n)])}catch(u){try{r("ierr",[u,(new Date).getTime(),!0])}catch(f){}}return"function"==typeof a?a.apply(this,o(arguments)):!1}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function n(t){r("err",[t,(new Date).getTime()])}var r=t("handle"),o=t(4),i=t("ee"),a=window.onerror,s=!1,c=0;t("loader").features.err=!0,window.onerror=e,NREUM.noticeError=n;try{throw new Error}catch(u){"stack"in u&&(t(5),t(3),"addEventListener"in window&&t(1),window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&t(2),s=!0)}i.on("fn-start",function(){s&&(c+=1)}),i.on("fn-err",function(t,e,r){s&&(this.thrown=!0,n(r))}),i.on("fn-end",function(){s&&!this.thrown&&c>0&&(c-=1)}),i.on("internal-error",function(t){r("ierr",[t,(new Date).getTime(),!0])})},{1:4,2:7,3:5,4:18,5:6,ee:"QJf3ax",handle:"D5DuLP",loader:"G9z0Bl"}],4:[function(t,e){function n(t){i.inPlace(t,["addEventListener","removeEventListener"],"-",r)}function r(t){return t[1]}var o=(t(1),t("ee").create()),i=t(2)(o),a=t("gos");if(e.exports=o,n(window),"getPrototypeOf"in Object){for(var s=document;s&&!s.hasOwnProperty("addEventListener");)s=Object.getPrototypeOf(s);s&&n(s);for(var c=XMLHttpRequest.prototype;c&&!c.hasOwnProperty("addEventListener");)c=Object.getPrototypeOf(c);c&&n(c)}else XMLHttpRequest.prototype.hasOwnProperty("addEventListener")&&n(XMLHttpRequest.prototype);o.on("addEventListener-start",function(t){if(t[1]){var e=t[1];"function"==typeof e?this.wrapped=t[1]=a(e,"nr@wrapped",function(){return i(e,"fn-",null,e.name||"anonymous")}):"function"==typeof e.handleEvent&&i.inPlace(e,["handleEvent"],"fn-")}}),o.on("removeEventListener-start",function(t){var e=this.wrapped;e&&(t[1]=e)})},{1:18,2:19,ee:"QJf3ax",gos:"7eSDFh"}],5:[function(t,e){var n=(t(2),t("ee").create()),r=t(1)(n);e.exports=n,r.inPlace(window,["requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame"],"raf-"),n.on("raf-start",function(t){t[0]=r(t[0],"fn-")})},{1:19,2:18,ee:"QJf3ax"}],6:[function(t,e){function n(t,e,n){var r=t[0];"string"==typeof r&&(r=new Function(r)),t[0]=o(r,"fn-",null,n)}var r=(t(2),t("ee").create()),o=t(1)(r);e.exports=r,o.inPlace(window,["setTimeout","setInterval","setImmediate"],"setTimer-"),r.on("setTimer-start",n)},{1:19,2:18,ee:"QJf3ax"}],7:[function(t,e){function n(){c.inPlace(this,d,"fn-")}function r(t,e){c.inPlace(e,["onreadystatechange"],"fn-")}function o(t,e){return e}var i=t("ee").create(),a=t(1),s=t(2),c=s(i),u=s(a),f=window.XMLHttpRequest,d=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"];e.exports=i,window.XMLHttpRequest=function(t){var e=new f(t);try{i.emit("new-xhr",[],e),u.inPlace(e,["addEventListener","removeEventListener"],"-",function(t,e){return e}),e.addEventListener("readystatechange",n,!1)}catch(r){try{i.emit("internal-error",[r])}catch(o){}}return e},window.XMLHttpRequest.prototype=f.prototype,c.inPlace(XMLHttpRequest.prototype,["open","send"],"-xhr-",o),i.on("send-xhr-start",r),i.on("open-xhr-start",r)},{1:4,2:19,ee:"QJf3ax"}],8:[function(t){function e(t){if("string"==typeof t&&t.length)return t.length;if("object"!=typeof t)return void 0;if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if("undefined"!=typeof FormData&&t instanceof FormData)return void 0;try{return JSON.stringify(t).length}catch(e){return void 0}}function n(t){var n=this.params,r=this.metrics;if(!this.ended){this.ended=!0;for(var i=0;c>i;i++)t.removeEventListener(s[i],this.listener,!1);if(!n.aborted){if(r.duration=(new Date).getTime()-this.startTime,4===t.readyState){n.status=t.status;var a=t.responseType,u="arraybuffer"===a||"blob"===a||"json"===a?t.response:t.responseText,f=e(u);if(f&&(r.rxSize=f),this.sameOrigin){var d=t.getResponseHeader("X-NewRelic-App-Data");d&&(n.cat=d.split(", ").pop())}}else n.status=0;r.cbTime=this.cbTime,o("xhr",[n,r,this.startTime])}}}function r(t,e){var n=i(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}if(window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&!/CriOS/.test(navigator.userAgent)){t("loader").features.xhr=!0;var o=t("handle"),i=t(2),a=t("ee"),s=["load","error","abort","timeout"],c=s.length,u=t(1);t(4),t(3),a.on("new-xhr",function(){this.totalCbs=0,this.called=0,this.cbTime=0,this.end=n,this.ended=!1,this.xhrGuids={}}),a.on("open-xhr-start",function(t){this.params={method:t[0]},r(this,t[1]),this.metrics={}}),a.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),a.on("send-xhr-start",function(t,n){var r=this.metrics,o=t[0],i=this;if(r&&o){var u=e(o);u&&(r.txSize=u)}this.startTime=(new Date).getTime(),this.listener=function(t){try{"abort"===t.type&&(i.params.aborted=!0),("load"!==t.type||i.called===i.totalCbs&&(i.onloadCalled||"function"!=typeof n.onload))&&i.end(n)}catch(e){try{a.emit("internal-error",[e])}catch(r){}}};for(var f=0;c>f;f++)n.addEventListener(s[f],this.listener,!1)}),a.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),a.on("xhr-load-added",function(t,e){var n=""+u(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),a.on("xhr-load-removed",function(t,e){var n=""+u(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),a.on("addEventListener-end",function(t,e){e instanceof XMLHttpRequest&&"load"===t[0]&&a.emit("xhr-load-added",[t[1],t[2]],e)}),a.on("removeEventListener-end",function(t,e){e instanceof XMLHttpRequest&&"load"===t[0]&&a.emit("xhr-load-removed",[t[1],t[2]],e)}),a.on("fn-start",function(t,e,n){e instanceof XMLHttpRequest&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=(new Date).getTime()))}),a.on("fn-end",function(t,e){this.xhrCbStart&&a.emit("xhr-cb-time",[(new Date).getTime()-this.xhrCbStart,this.onload,e],e)})}},{1:"XL7HBI",2:9,3:7,4:4,ee:"QJf3ax",handle:"D5DuLP",loader:"G9z0Bl"}],9:[function(t,e){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");return!r.port&&o[1]&&(r.port=o[1].split("/")[0].split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname),r.sameOrigin=!e.hostname||e.hostname===document.domain&&e.port===n.port&&e.protocol===n.protocol,r}},{}],gos:[function(t,e){e.exports=t("7eSDFh")},{}],"7eSDFh":[function(t,e){function n(t,e,n){if(r.call(t,e))return t[e];var o=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:o,writable:!0,enumerable:!1}),o}catch(i){}return t[e]=o,o}var r=Object.prototype.hasOwnProperty;e.exports=n},{}],D5DuLP:[function(t,e){function n(t,e,n){return r.listeners(t).length?r.emit(t,e,n):(o[t]||(o[t]=[]),void o[t].push(e))}var r=t("ee").create(),o={};e.exports=n,n.ee=r,r.q=o},{ee:"QJf3ax"}],handle:[function(t,e){e.exports=t("D5DuLP")},{}],XL7HBI:[function(t,e){function n(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:i(t,o,function(){return r++})}var r=1,o="nr@id",i=t("gos");e.exports=n},{gos:"7eSDFh"}],id:[function(t,e){e.exports=t("XL7HBI")},{}],loader:[function(t,e){e.exports=t("G9z0Bl")},{}],G9z0Bl:[function(t,e){function n(){var t=p.info=NREUM.info;if(t&&t.agent&&t.licenseKey&&t.applicationID&&c&&c.body){p.proto="https"===d.split(":")[0]||t.sslForHttp?"https://":"http://",a("mark",["onload",i()]);var e=c.createElement("script");e.src=p.proto+t.agent,c.body.appendChild(e)}}function r(){"complete"===c.readyState&&o()}function o(){a("mark",["domContent",i()])}function i(){return(new Date).getTime()}var a=t("handle"),s=window,c=s.document,u="addEventListener",f="attachEvent",d=(""+location).split("?")[0],p=e.exports={offset:i(),origin:d,features:{}};c[u]?(c[u]("DOMContentLoaded",o,!1),s[u]("load",n,!1)):(c[f]("onreadystatechange",r),s[f]("onload",n)),a("mark",["firstbyte",i()])},{handle:"D5DuLP"}],18:[function(t,e){function n(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(0>o?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=n},{}],19:[function(t,e){function n(t){return!(t&&"function"==typeof t&&t.apply&&!t[i])}var r=t("ee"),o=t(1),i="nr@wrapper",a=Object.prototype.hasOwnProperty;e.exports=function(t){function e(t,e,r,a){function nrWrapper(){var n,i,s,u;try{i=this,n=o(arguments),s=r&&r(n,i)||{}}catch(d){f([d,"",[n,i,a],s])}c(e+"start",[n,i,a],s);try{return u=t.apply(i,n)}catch(p){throw c(e+"err",[n,i,p],s),p}finally{c(e+"end",[n,i,u],s)}}return n(t)?t:(e||(e=""),nrWrapper[i]=!0,u(t,nrWrapper),nrWrapper)}function s(t,r,o,i){o||(o="");var a,s,c,u="-"===o.charAt(0);for(c=0;c<r.length;c++)s=r[c],a=t[s],n(a)||(t[s]=e(a,u?s+o:o,i,s,t))}function c(e,n,r){try{t.emit(e,n,r)}catch(o){f([o,e,n,r])}}function u(t,e){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(t);return n.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(r){f([r])}for(var o in t)a.call(t,o)&&(e[o]=t[o]);return e}function f(e){try{t.emit("internal-error",e)}catch(n){}}return t||(t=r),e.inPlace=s,e.flag=i,e}},{1:18,ee:"QJf3ax"}]},{},["G9z0Bl",3,8]);</script></head>
<body data-slug="Web/Guide/DOM/Manipulating_the_browser_history" contextmenu="edit-history-menu" class="document  ">

  <script type="text/javascript">
    (function(win) {
        'use strict';

                    (function(){
  var FLAGS = {
    'derby_closed': true,'dirtiness_tracking': true,'ga_outbound_links': true,'github_beta_notice': false,'kumaediting': false,'page_move': false,'promote_script': false,'redirect_messages': false,'search_suggestions': false,'top_contributors': false,'wiki_spellcheck': false
    },
    SWITCHES = {
    'wiki_error_on_delete': false,'wiki_force_immediate_rendering': false,'render_stale_documents_async': true,'enable_optimizely': true,'welcome_email': true
    },
    SAMPLES = {
    
    };
  window.waffle = {
    "flag_is_active": function waffle_flag(flag_name) {
      
      return !!FLAGS[flag_name];
    },
    "switch_is_active": function waffle_switch(switch_name) {
      
      return !!SWITCHES[switch_name];
    },
    "sample_is_active": function waffle_sample(sample_name) {
      
      return !!SAMPLES[sample_name];
    },
    "FLAGS": FLAGS,
    "SWITCHES": SWITCHES,
    "SAMPLES": SAMPLES
  };
})();

                
        // This represents the site configuration
        win.mdn = {
            build: '46533d5',
            // Properties and settings for CKEditor will go here
            ckeditor: {},
            // Feature test results and methods will be placed here
            features: {},
            // The path to media (images, CSS, JS) in MDN
            mediaPath: 'https://developer.cdn.mozilla.net/media/',
            // Optimizely API
            optimizely: win['optimizely'] || [],
            // Site notifications
            notifications: [
                                            ],
                        // Wiki-specific settings will be placed here
            wiki: {
                autosuggestTitleUrl: '/ja/docs/get-documents'
            },
            searchFilters: [{"name": "Document type", "slug": "type", "order": 1, "filters": [{"name": "Tools", "slug": "tools", "shortcut": null}, {"name": "Code Samples", "slug": "code", "shortcut": null}, {"name": "How-To & Tutorial", "slug": "howto", "shortcut": null}]}, {"name": "Skill level", "slug": "skill", "order": 1, "filters": [{"name": "I'm an Expert", "slug": "advanced", "shortcut": null}, {"name": "Intermediate", "slug": "intermediate", "shortcut": null}, {"name": "I'm Learning", "slug": "beginner", "shortcut": null}]}, {"name": "Topics", "slug": "topic", "order": 1, "filters": [{"name": "Open Web Apps", "slug": "apps", "shortcut": null}, {"name": "HTML", "slug": "html", "shortcut": null}, {"name": "CSS", "slug": "css", "shortcut": null}, {"name": "JavaScript", "slug": "js", "shortcut": null}, {"name": "APIs and DOM", "slug": "api", "shortcut": null}, {"name": "Canvas", "slug": "canvas", "shortcut": null}, {"name": "SVG", "slug": "svg", "shortcut": null}, {"name": "MathML", "slug": "mathml", "shortcut": null}, {"name": "WebGL", "slug": "webgl", "shortcut": null}, {"name": "XUL", "slug": "xul", "shortcut": null}, {"name": "Marketplace", "slug": "marketplace", "shortcut": null}, {"name": "Firefox", "slug": "firefox", "shortcut": null}, {"name": "Firefox for Android", "slug": "firefox-mobile", "shortcut": "fennec"}, {"name": "Firefox for Desktop", "slug": "firefox-desktop", "shortcut": "fx"}, {"name": "Firefox OS", "slug": "firefox-os", "shortcut": "fxos"}, {"name": "Mobile", "slug": "mobile", "shortcut": null}, {"name": "Web Development", "slug": "webdev", "shortcut": null}, {"name": "Add-ons & Extensions", "slug": "addons", "shortcut": null}, {"name": "Games", "slug": "games", "shortcut": null}, {"name": "Writing Documentation", "slug": "docs", "shortcut": null}]}]
        };

        // Ensures gettext always returns something, is always set
        win.gettext = function(x) {
            return x;
        }
    })(window);
</script>
  

  

  
  <ul id="nav-access">
    <li><a href="Manipulating_the_browser_history.html#document-main" id="skip-main">メインコンテンツへ移動</a></li>
    <li><a id="skip-language" href="Manipulating_the_browser_history.html#language">言語の選択</a></li>
          <li><a href="Manipulating_the_browser_history.html#q" id="skip-search">検索へ移動</a></li>
      </ul>

  <!-- Header -->
  <header id="main-header"><div class="center">

    <a href="https://www.mozilla.org/" id="tabzilla" class="no-track">mozilla</a>

    <div class="clear header-clear"></div>

    <a href="../../../../index.html" class="logo">Mozilla Developer Network</a>

    <div class="header-login">
                    
    
    <form>
      <div class="oauth-login-container">
          <div class="oauth-login-options" tabIndex="0">
              <span class="oauth-login-options-text">
                <span class="oauth-login-options-text-icons">Sign in with</span>
                <span class="oauth-login-options-text-no-icons">Sign in</span>
              </span>
              <span class="oauth-icon oauth-persona launch-persona-login" data-service="Persona" data-next="/ja/docs/Web/Guide/DOM/Manipulating_the_browser_history" title="Persona"><i class="icon-user" aria-hidden="true"></i></span>
                      </div>
          <div class="submenu oauth-login-picker" aria-hidden="true">
              <ul>
                  <li><a href="../../../../users/signin.html" class="login-link launch-persona-login" data-next="/ja/docs/Web/Guide/DOM/Manipulating_the_browser_history" data-service="Persona"><i class="icon-user" aria-hidden="true"></i>Persona</a></li>
                              </ul>
          </div>
      </div>
    </form>
            </div>

    <nav id="main-nav" role="navigation"><ul><li><a href="https://developer.mozilla.org/en-US/docs/Zones">ゾーン<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu submenu-single" id="nav-zones-submenu">
          <div class="submenu-column">
            <ul>
              <li><a href="../../../Mozilla/Add-ons.html">アドオン</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Apps">App センター</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Firefox">Firefox</a></li>
              <li><a href="../../../Mozilla/Marketplace.html">Firefox Marketplace</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Firefox_OS">Firefox OS</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Persona">Persona</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="../../../Web.html">Web プラットフォーム<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu" id="nav-platform-submenu">
          <div class="submenu-column">
            <div class="title">テクノロジ</div>
            <ul>
              <li><a href="../../HTML.html">HTML</a></li>
              <li><a href="../../CSS.html">CSS</a></li>
              <li><a href="../../JavaScript.html">JavaScript</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Graphics">グラフィクス</a></li>
              <li><a href="../../API.html">API / DOM</a></li>
              <li><a href="../../Apps.html">Apps</a></li>
              <li><a href="../../MathML.html">MathML</a></li>
            </ul>
          </div><div class="submenu-column last">
            <div class="title">リファレンスとガイド</div>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Tutorials">チュートリアル</a></li>
              <li><a href="../../Reference.html">レファレンス</a></li>
              <li><a href="../../Guide.html">開発者ガイド</a></li>
              <li><a href="../../Accessibility.html">アクセシビリティ</a></li>
              <li><a href="../../../../demos/index.html">MDN デモ</a></li>
              <li><a href="../../../Web.html">さらに見る</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="../../../Tools.html">ツール</a></li><li><a href="../../../../demos/index.html">MDN デモ</a></li><li><a href="../../../Mozilla/Connect.html">Connect</a></li><li class="main-nav-search"><form action="/ja/search" method="get" role="search">
        <div class="search-wrap">
          <label for="main-q" class="offscreen">検索</label>
          <input type="search" id="main-q" name="q" data-placeholder="検索" data-value="" value="" />
          <span class="search-trigger"><i aria-hidden="true" class="icon-search"></i></span>&nbsp;
          <button type="submit" class="offscreen">検索</button>
        </div>
      </form></li></ul></nav>
  </div></header>

  <!-- Content will go here -->
  <main id="content"><div class="center clear">
  
   <!-- end is_zone -->


    <div class="wiki-main-content" id="document-main"><div class="center">
            <div class="article-meta">
        <!-- action buttons -->
        
            
        

  <ul class="page-buttons" data-sticky="false"><li><button id="languages-menu" class="transparent" aria-haspopup="true" aria-owns="languages-menu-submenu" aria-expanded="false"><span>言語</span><i aria-hidden="true" class="icon-globe"></i></button>

        <div class="submenu" id="languages-menu-submenu">
          <div class="submenu-column">
            <ul id="translations">
                                                <li><bdi><a rel="internal" href="https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Manipulating_the_browser_history" title="Manipulating the browser history">English (US)</a></bdi></li>
                                  <li><bdi><a rel="internal" href="https://developer.mozilla.org/es/docs/DOM/Manipulando_el_historial_del_navegador" title="Manipulando el historial del navegador">Español</a></bdi></li>
                                  <li><bdi><a rel="internal" href="https://developer.mozilla.org/fr/docs/Web/Guide/DOM/Manipuler_historique_du_navigateur" title="Manipuler l&#39;historique du navigateur">Français</a></bdi></li>
                                  <li><bdi><a rel="internal" href="https://developer.mozilla.org/zh-CN/docs/DOM/Manipulating_the_browser_history" title="操纵浏览器的历史记录">中文 (简体)</a></bdi></li>
                                  <li><bdi><a rel="internal" href="https://developer.mozilla.org/de/docs/Web/Guide/DOM/Manipulating_the_browser_history" title="Manipulieren des Browser-Verlaufes">Deutsch</a></bdi></li>
                                  <li><bdi><a rel="internal" href="https://developer.mozilla.org/zh-TW/docs/Web/Guide/API/DOM/Manipulating_the_browser_history/Manipulating_the_browser_history" title="Manipulating the browser history">正體中文 (繁體)</a></bdi></li>
                              
                          </ul>
          </div>
        </div></li><li class="page-buttons-edit"><a href="https://developer.mozilla.org/ja/docs/Web/Guide/DOM/Manipulating_the_browser_history$edit" class="button" data-optimizely-hook="button-edit-doc" id="edit-button">編集<i aria-hidden="true" class="icon-pencil"></i></a></li><li><button id="advanced-menu" class="only-icon" aria-haspopup="true" aria-owns="advanced-menu-submenu" aria-expanded="false"><span>詳細</span><i aria-hidden="true" class="icon-cog"></i></button>

        <div class="submenu" id="advanced-menu-submenu">
          <!-- this page -->
          <div class="submenu-column">
            <div class="title">詳細</div>
            <ul>
                <li><a href="https://developer.mozilla.org/ja/docs/Web/Guide/DOM/Manipulating_the_browser_history$history">履歴</a></li>
                                                                
                
                                
                                                                <li class="page-print"><a href="Manipulating_the_browser_history.html#" onclick="return window.print();">このページを印刷</a></li>
            </ul>
          </div>
        </div>
  </li></ul>

        <!-- crumbs -->
          <nav class="crumbs" role="navigation"><ol xmlns:v="http://rdf.data-vocabulary.org/#" aria-label="breadcrumbs">
    <li typeof="v:Breadcrumb"><a href="../../../../index.html" rel="v:url" property="v:title">MDN</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="../../../Web.html" rel="v:url" property="v:title">開発者向けのWeb技術</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="../../Guide.html" rel="v:url" property="v:title">Web developer guide</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="../DOM.html" rel="v:url" property="v:title">DOM developer guide</a></li>
        <li class="crumb" typeof="v:Breadcrumb" property="v:title">Manipulating the browser history</li>
  </ol></nav>
      </div>

      <!-- heading -->
      <div id="wiki-document-head" class="document-head">
          <span class="from-search-previous-box">
            <a class="button from-search-previous only-icon disabled" title="Previous Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-left"></i></a>
          </span>
          <span class="from-search-navigate-wrap">
            <a href="Manipulating_the_browser_history.html#" class="from-search-navigate"><span class="from-search-navigate-up"><i aria-hidden="true" class="icon-double-angle-up"></i></span><span class="from-search-navigate-down"><i aria-hidden="true" class="icon-double-angle-down"></i></span></a>
          </span>
          <div class="from-search-toc">
            <span class="title">Your Search Results</span>
            <ol></ol>
          </div>
          <span class="from-search-next-box">
            <a class="button from-search-next only-icon disabled" title="Next Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-right"></i></a>
          </span>
        <h1>Manipulating the browser history</h1>
        
      </div>
      
      <!-- start the main content container -->
        <div id="wiki-column-container" class="wiki-right-present wiki-left-closed wiki-left-none">

          
          <!-- content row with three strips -->
          <div class="column-container column-container-reverse">

                          <!-- TOC, approvals, etc -->
              <div class="column-strip wiki-column" id="wiki-right">
                            <!-- table of contents -->
              <div id="toc" class="toc toggleable">
                <a href="Manipulating_the_browser_history.html#toc" class="title toggler" data-open-icon="icon-plus" data-closed-icon="icon-minus">In This Article<i></i></a>
                <ol class="toggle-container">
                  <code></code><code></code><li><a href="Manipulating_the_browser_history.html#.E5.B1.A5.E6.AD.B4.E6.83.85.E5.A0.B1.E3.82.92.E7.94.A8.E3.81.84.E3.81.A6.E7.A7.BB.E5.8B.95.E3.81.99.E3.82.8B" rel="internal">履歴情報を用いて移動する</a><code></code><code></code><code></code><ol><li><a href="Manipulating_the_browser_history.html#.E5.89.8D.E3.81.AE.E3.83.9A.E3.83.BC.E3.82.B8.E3.81.A8.E6.AC.A1.E3.81.AE.E3.83.9A.E3.83.BC.E3.82.B8.E3.81.B8.E7.A7.BB.E5.8B.95.E3.81.99.E3.82.8B" rel="internal">前のページと次のページへ移動する</a><li><a href="Manipulating_the_browser_history.html#.E5.B1.A5.E6.AD.B4.E3.81.AE.E6.8C.87.E5.AE.9A.E3.81.97.E3.81.9F.E4.BD.8D.E7.BD.AE.E3.81.BE.E3.81.A7.E7.A7.BB.E5.8B.95.E3.81.99.E3.82.8B" rel="internal">履歴の指定した位置まで移動する</a><code></code><code></code><code></code><code></code><code></code><code></code><code></code></ol></li><li><a href="Manipulating_the_browser_history.html#.E5.B1.A5.E6.AD.B4.E3.82.A8.E3.83.B3.E3.83.88.E3.83.AA.E3.81.AE.E8.BF.BD.E5.8A.A0.E3.81.A8.E4.BF.AE.E6.AD.A3" rel="internal">履歴エントリの追加と修正</a><code></code><code></code><code></code><code></code><code></code><code></code><code></code><ol><li><a href="Manipulating_the_browser_history.html#.E4.BE.8B" rel="internal">例</a><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><li><a href="Manipulating_the_browser_history.html#pushState()_.E3.83.A1.E3.82.BD.E3.83.83.E3.83.89" rel="internal">pushState() メソッド</a><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><li><a href="Manipulating_the_browser_history.html#replaceState()_.E3.83.A1.E3.82.BD.E3.83.83.E3.83.89" rel="internal">replaceState() メソッド</a><code></code><code></code><code></code><code></code><code></code><li><a href="Manipulating_the_browser_history.html#popstate_.E3.82.A4.E3.83.99.E3.83.B3.E3.83.88" rel="internal">popstate イベント</a><code></code><code></code><code></code><code></code><code></code><code></code><li><a href="Manipulating_the_browser_history.html#.E7.8F.BE.E5.9C.A8.E3.81.AE.E7.8A.B6.E6.85.8B.E3.82.92.E8.AA.AD.E3.81.BF.E5.8F.96.E3.82.8B" rel="internal">現在の状態を読み取る</a><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code></ol></li><li><a href="Manipulating_the_browser_history.html#.E3.83.96.E3.83.A9.E3.82.A6.E3.82.B6.E4.BA.92.E6.8F.9B.E6.80.A7" rel="internal">ブラウザ互換性</a><li><a href="Manipulating_the_browser_history.html#.E9.96.A2.E9.80.A3.E9.A0.85.E7.9B.AE" rel="internal">関連項目</a><code></code><code></code>
                </ol>
              </div>
                            </div>
            
                                                  
            <!-- center: main article content -->
            <div id="wiki-content" class="column-main wiki-column text-content">

              
              
                                                                                          
              <!-- just the article content -->
              <article id="wikiArticle">
                                                      <p></p><div class="overheadIndicator" style="background: #FFFDD8;">  
  <p>the History API について学習中ですか？</p>  
  <p>この記事をお読みになった後は是非 <a href="https://developer.mozilla.org/demos/devderby">Dev Derby</a> へ赴き、世界中の人達に学習の成果を披露して下さい！</p>  
</div><p></p>
<p>DOM <a href="../../API/window.html" title="This section provides a brief reference for all of the methods, properties, and events available through the DOM window object. The window object implements the Window interface, which in turn inherits from the AbstractView interface. Some additional global functions, namespaces objects, and constructors, not typically associated with the window, but available on it, are listed in the JavaScript Reference."><code>window</code></a> オブジェクトは <a href="https://developer.mozilla.org/ja/docs/Web/API/window.history" title="ブラウザの履歴を扱うためのインタフェースを提供する history オブジェクトへの参照を返します。"><code>history</code></a> オブジェクトを介したブラウザの履歴へのアクセスを提供しています。このオブジェクトでは、前のページに戻ったり、（ HTML5 からは履歴スタックの中身を操作できるなど）ユーザーの履歴を行き来するのに便利なメソッドとプロパティが顕わになっています。</p>
<h2 id=".E5.B1.A5.E6.AD.B4.E6.83.85.E5.A0.B1.E3.82.92.E7.94.A8.E3.81.84.E3.81.A6.E7.A7.BB.E5.8B.95.E3.81.99.E3.82.8B">履歴情報を用いて移動する</h2>
<p><code>back()</code>, <code>forward()</code>, <code>go()</code> メソッドを使用することにより、ユーザーの履歴を通して、前のページに戻ったり、次のページへと移動します。</p>
<h3 id=".E5.89.8D.E3.81.AE.E3.83.9A.E3.83.BC.E3.82.B8.E3.81.A8.E6.AC.A1.E3.81.AE.E3.83.9A.E3.83.BC.E3.82.B8.E3.81.B8.E7.A7.BB.E5.8B.95.E3.81.99.E3.82.8B">前のページと次のページへ移動する</h3>
<p>履歴情報を通して前のページに戻るためには、このようにします：</p>
<pre>window.history.back();
</pre>
<p>これにより、ちょうどユーザーがブラウザのツールバーの「前のページに戻る」ボタンをクリックしたときのような挙動がなされます。</p>
<p>同様に、こうのようにすることで（ユーザーが「次のページへ進む」ボタンをクリックしたかのように）次のページへ進むこともできます：</p>
<pre>window.history.forward();
</pre>
<h3 id=".E5.B1.A5.E6.AD.B4.E3.81.AE.E6.8C.87.E5.AE.9A.E3.81.97.E3.81.9F.E4.BD.8D.E7.BD.AE.E3.81.BE.E3.81.A7.E7.A7.BB.E5.8B.95.E3.81.99.E3.82.8B">履歴の指定した位置まで移動する</h3>
<p><code>go()</code> メソッドを使い、セッション履歴において現在のページと相対的な位置にある特定のページを読み込むことができます。（もちろん、現在のページのインデックスは 0 となります）</p>
<p>ひとつ前のページへと戻ります。（ <code>back()</code> を呼び出したのと等しいです）：</p>
<pre><code>window.history.go(-1);</code>
</pre>
<p><code>forward()</code> を呼び出したのと同様に、次のページへと移動します：</p>
<pre><code>window.history.go(1);</code>
</pre>
<p>同じように、2 を渡せば、2ページ進むことも戻ることもできます。</p>
<p><code>length</code> プロパティの値を参照することにより、履歴スタック中のページの数を知ることができます:</p>
<pre>var numberOfEntries = window.history.length;
</pre>
<div class="note">
 <strong>註:</strong> Internet Explorer は <code>go()</code> のパラメータとして URL 文字列を渡すことができます。ですが、これは非標準の機能であり Gecko ではサポートされていません。</div>
<h2 id=".E5.B1.A5.E6.AD.B4.E3.82.A8.E3.83.B3.E3.83.88.E3.83.AA.E3.81.AE.E8.BF.BD.E5.8A.A0.E3.81.A8.E4.BF.AE.E6.AD.A3">履歴エントリの追加と修正</h2>
<p></p>
<p>HTML5 では <code>history.pushState()</code> および <code>history.replaceState()</code> メソッドが導入され、それぞれにより履歴エントリの追加と修正が可能となりました。 これらのメソッドは <a class="new" href="https://developer.mozilla.org/ja/docs/Web/API/window.onpopstate" title="The documentation about this has not yet been written; please consider contributing!"><code>window.onpopstate</code></a>イベントと連動して動作します。</p>
<p><code>history.pushState()</code> を使うことで、履歴の状態を変更した後に生成される <a href="https://developer.mozilla.org/ja/DOM/XMLHttpRequest" title="ja/XMLHttpRequest"><code>XMLHttpRequest</code></a> オブジェクトの HTTP ヘッダー中のリファラも変更されます。リファラは <a href="https://developer.mozilla.org/ja/DOM/XMLHttpRequest" title="ja/XMLHttpRequest"><code>XMLHttpRequest</code></a> オブジェクトが生成された時点での <code>this</code> となるウィンドウの持つドキュメントの URL となります。</p>
<h3 id=".E4.BE.8B">例</h3>
<p>下記の JavaScript は <span class="nowiki">http://mozilla.org/foo.html</span> において実行されていると仮定します：</p>
<pre>var stateObj = { foo: "bar" };
history.pushState(stateObj, "page 2", "bar.html");
</pre>
<p>これにより URL バーには <span class="nowiki">http://mozilla.org/bar.html</span> と表示されますが、<code>bar.html</code> が存在しているかどうかに関わらずブラウザが <code>bar.html</code> をロードすることはありません。</p>
<p>戻るボタンを押したことにより、ユーザーは現在、 <span class="nowiki">http://google.com</span> に移動しようとしていると仮定しましょう。この時点では、URL バーは <span class="nowiki">http://mozilla.org/bar.html</span> を表示しており、ページは、<code>stateObj</code> のコピーを含む <em>state オブジェクト</em>を持つ <code>popstate</code> イベントを取得します。<code>popstate</code> イベントの間に、ページのコンテンツは修正されるにも関わらず、ページ自体は <code>foo.html</code> であるように見えるでしょう。</p>
<p>再度「戻る」ボタンを押すことにより、URL は <span class="nowiki">http://mozilla.org/foo.html</span> へと変わり、ドキュメントは別の <code>popstate</code> イベントを取得します。このとき state オブジェクトは null となっています。ここでも、<code>popstate</code> イベントを受け取った際にドキュメントによってコンテンツが手動で修正されたにもかかわらず、「戻る」挙動によって、前ステップのものからドキュメントのコンテンツが変更されることはありません。</p>
<h3 id="pushState()_.E3.83.A1.E3.82.BD.E3.83.83.E3.83.89">pushState() メソッド</h3>
<p><code>pushState()</code> は、state オブジェクト、タイトル（現在のところ無視されます）、そしてURL（任意）の3つのパラメータを使用します。これら3つのパラメータについて詳細に見ていきましょう：</p>
<ul>
 <li>
  <p><strong>state オブジェクト</strong> — state オブジェクトは <code>pushState()</code> によって作成される新しい履歴エントリに関連付けられる JavaScript オブジェクトです。ユーザーが新しいエントリに移動すればいつでも、<code>popstate</code> イベントが発火して、履歴エントリの state オブジェクトのコピーがイベントの <code>state</code> プロパティへと含まれることとなります。</p>
  <p>state オブジェクトは何であってもシリアライズされます。Firefox はユーザーのディスクに state オブジェクトを保存し、ユーザーがブラウザを再起動した際に state オブジェクトを復元するため、シリアライズされた状態での state オブジェクトの最大文字数は640000文字と、サイズの制限がされています。シリアライズ後にこの最大文字数を上回ることになる state オブジェクトを <code>pushState()</code> に渡した場合、<code>pushState()</code>は例外を投げます。これを上回るスペースが必要な場合、<code>sessionStorage</code> または <code>localStorage</code> の使用を推奨します。</p>
 </li>
 <li>
  <p><strong>タイトル</strong> — 将来的には使用されるようになるかもしれませんが、現在の Firefox はこのパラメータを無視します。将来的な変更に備えて、空の文字列を渡しておくべきでしょう。あるいは、移動しようとしている先の状態を示す短いタイトルを渡しておくこともできます。</p>
 </li>
 <li>
  <p><strong>URL</strong> — このパラメーターは、新しい履歴エントリの URL が指定します。<code>pushState()</code> の呼び出しの後、ブラウザはこの URL のロードを行わないと注記しておきますが、ユーザーがブラウザを再起動させた後などでは、新しく指定された URL をロードすることがあります。新しい URL は絶対パスである必要は無く、相対パスであった場合は、現在のURLとの相対関係が解決されます。新しい URL は現在の URLと same origin でなければなりません。でなければ <code>pushState()</code> は例外を発生させるでしょう。このパラメータは任意であり、指定されなかった場合は現在のドキュメントの URL が設定されます。</p>
 </li>
</ul>
<div class="note">
 <strong>註：</strong>Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1) より Gecko 5.0 (Firefox 5.0 / Thunderbird 5.0 / SeaMonkey 2.2) に於いては、渡されたオブジェクトは JSON を使用してシリアライズされます。Gecko 6.0 (Firefox 6.0 / Thunderbird 6.0 / SeaMonkey 2.3) より、オブジェクトは <a href="https://developer.mozilla.org/ja/DOM/The_structured_clone_algorithm" title="ja/DOM/The structured clone algorithm">the structured clone algorithm</a> を使用してシリアライズされます。これにより多種多様なオブジェクトを安全に渡せるようになります。</div>
<p>ある意味では、<code>pushState()</code> の呼び出しは <code>window.location = "#foo";</code> と設定するのと似ています。どちらも、現在のドキュメントに関連する別の履歴エントリの生成とアクティベートを行います。ですが <code>pushState()</code> にはいくらかの利点があります：</p>
<ul>
 <li>新しい URL は、現在の URL と同じドメインであればどの URL にもなることができます。対照的に、<code>window.location</code> では hash の変更しかできず、同じ <a href="https://developer.mozilla.org/ja/docs/Web/API/document" title="DOM において、document オブジェクトは HTML, XHTML, そして XML ドキュメントを表す一般的な方法を提供します。document オブジェクトは一般的な DOM Core document インタフェースを備えています。"><code>document</code></a> のままとなります。</li>
 <li>必ずしも URL を変更する必要はありません。対照的に、<code>window.location = "#foo";</code> では、現在の hash が <code>#foo</code> でない場合、新しい履歴エントリの作成以外のことはできません。</li>
 <li>新しい履歴エントリに任意のデータを関連付けることができます。hash を基にしたアプローチでは、関連するデータを含めた短い文字列を全てエンコードする必要があります。</li>
</ul>
<p>新しい URLが、変更前のURLから hash のみを変更した URL である場合であっても、 <code>pushState()</code> は <code>hashchange</code> イベントを発火させることはないと注記しておきます。</p>
<h3 id="replaceState()_.E3.83.A1.E3.82.BD.E3.83.83.E3.83.89">replaceState() メソッド</h3>
<p><code>history.replaceState()</code> は丁度 <code>history.pushState()</code> のように動作しますが、<code>pushState()</code> と異なる点として、 <code>replaceState()</code> は新しく履歴エントリを作成する代わりに現在の履歴エントリを修正します。</p>
<p>具体的には、何らかのユーザーのアクションを受け、現在の履歴エントリの URL または state オブジェクトを更新したい場合に <code>replaceState()</code> が役立ちます。</p>
<div class="note">
 <strong>註：</strong>Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1) より Gecko 5.0 (Firefox 5.0 / Thunderbird 5.0 / SeaMonkey 2.2) に於いては、渡されたオブジェクトは JSON を使用してシリアライズされます。Gecko 6.0 (Firefox 6.0 / Thunderbird 6.0 / SeaMonkey 2.3) より、オブジェクトは <a href="https://developer.mozilla.org/ja/DOM/The_structured_clone_algorithm" title="ja/DOM/The structured clone algorithm">the structured clone algorithm</a> を使用してシリアライズされます。これにより多種多様なオブジェクトを安全に渡せるようになります。</div>
<h3 id="popstate_.E3.82.A4.E3.83.99.E3.83.B3.E3.83.88">popstate イベント</h3>
<p>アクティブな履歴エントリが変更される度にウィンドウへと <code>popstate</code> イベントが発行されます。<code>pushState</code> の呼び出しまたは <code>replaceState</code> の呼び出しの影響によって、アクティベートされた履歴エントリが作成された場合、<code>popstate</code> イベントの <code>state</code> プロパティは履歴エントリの state オブジェクトのコピーを含みます。</p>
<p>使い方のサンプルは <a class="new" href="https://developer.mozilla.org/ja/docs/Web/API/window.onpopstate" title="The documentation about this has not yet been written; please consider contributing!"><code>window.onpopstate</code></a> を参照してください。</p>
<h3 id=".E7.8F.BE.E5.9C.A8.E3.81.AE.E7.8A.B6.E6.85.8B.E3.82.92.E8.AA.AD.E3.81.BF.E5.8F.96.E3.82.8B">現在の状態を読み取る</h3>
<p>ページが読み込まれたとき、 ページは null ではない state オブジェクトを持っているかもしれません。これは例えば、（<code>pushState()</code> または <code>replaceState()</code> の使用によって）ページに state オブジェクトが設定されており、ユーザーがブラウザを再起動した場合に起こりえます。ページを再読み込みした際にページは <code>onload</code> イベントを受け取りますが <code>popstate</code> イベントは受け取られません。しかしながら <code>history.state</code> プロパティを読み取った場合、<code>popstate</code> が発火した際に取得できるであろう state オブジェクトを得ることができるでしょう。</p>
<p>このように <code>history.state</code> プロパティを用いることで、 <code>popstate</code> イベントを待つことなく現在の履歴エントリの state を読み取ることができます：</p>
<pre>var currentState = history.state;
</pre>
<h2 id=".E3.83.96.E3.83.A9.E3.82.A6.E3.82.B6.E4.BA.92.E6.8F.9B.E6.80.A7">ブラウザ互換性</h2>
<p></p><div class="htab"> 
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a> 
    <ul> 
        <li class="selected"><a>デスクトップ</a></li> 
        <li><a>モバイル</a></li> 
    </ul> 
</div><p></p>
<div id="compat-desktop">
 <table class="compat-table">
  <tbody>
   <tr>
    <th>機能</th>
    <th>Chrome</th>
    <th>Firefox (Gecko)</th>
    <th>Internet Explorer</th>
    <th>Opera</th>
    <th>Safari</th>
   </tr>
   <tr>
    <td>replaceState, pushState</td>
    <td>5</td>
    <td><a href="https://developer.mozilla.org/en-US/Firefox/Releases/4" title="Released on 2011-03-22.">4.0</a> (2.0)</td>
    <td>10</td>
    <td>11.50</td>
    <td>5.0</td>
   </tr>
   <tr>
    <td>history.state</td>
    <td>18</td>
    <td><a href="https://developer.mozilla.org/en-US/Firefox/Releases/4" title="Released on 2011-03-22.">4.0</a> (2.0)</td>
    <td>10</td>
    <td>11.50</td>
    <td>6.0</td>
   </tr>
  </tbody>
 </table>
</div>
<div id="compat-mobile">
 <table class="compat-table">
  <tbody>
   <tr>
    <th>機能</th>
    <th>Android</th>
    <th>Firefox Mobile (Gecko)</th>
    <th>IE Mobile</th>
    <th>Opera Mobile</th>
    <th>Safari Mobile</th>
   </tr>
   <tr>
    <td>replaceState, pushState</td>
    <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
    <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
    <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
    <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
    <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   </tr>
   <tr>
    <td>history.state</td>
    <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
    <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
    <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
    <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
    <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   </tr>
  </tbody>
 </table>
</div>
<p>クロスブラウザでの互換性の<a class="external link-https" href="https://github.com/browserstate/history.js/wiki/The-State-of-the-HTML5-History-API" title="https://github.com/balupton/history.js/wiki/The-State-of-the-HTML5-History-API">問題</a>を解消するには <a class="external link-https" href="https://github.com/balupton/history.js" title="https://github.com/balupton/history.js">History.js</a> を使うとよいかもしれません。</p>
<h2 id=".E9.96.A2.E9.80.A3.E9.A0.85.E7.9B.AE">関連項目</h2>
<ul>
 <li><a href="https://developer.mozilla.org/ja/docs/Web/API/window.history" title="ブラウザの履歴を扱うためのインタフェースを提供する history オブジェクトへの参照を返します。"><code>window.history</code></a></li>
 <li><a class="new" href="https://developer.mozilla.org/ja/docs/Web/API/window.onpopstate" title="The documentation about this has not yet been written; please consider contributing!"><code>window.onpopstate</code></a></li>
</ul>
<p></p>
                                                </article>

              
                <!-- contributors -->
                <div class="wiki-block contributors">
                  <h2 class="offscreen">Document Tags and Contributors</h2>
                                                      <!-- tags if present -->
                  <div class="tag-attach-list contributor-sub">
                    <i aria-hidden="true" class="icon-tags"></i><strong>タグ:</strong>&nbsp;
                    <ul class="tags tags-small"><li><a href="../../../tag/DOM.html">DOM</a></li><li><a href="https://developer.mozilla.org/ja/docs/tag/history">history</a></li></ul>
                  </div>
                                    <div class="contributor-sub"> <i aria-hidden="true" class="icon-group"></i><strong>Contributors to this page:</strong> <a href="../../../../profiles/saneyuki_s.html">saneyuki_s</a>, <a href="https://developer.mozilla.org/ja/profiles/kyo_ago">kyo_ago</a>, <a href="../../../../profiles/ethertank.html">ethertank</a>, <a href="https://developer.mozilla.org/ja/profiles/awakia">awakia</a> </div>                                      <div class="contributor-sub">
                      <i aria-hidden="true" class="icon-clock-o"></i><strong>最終更新者:</strong>
                      <a href="https://developer.mozilla.org/ja/profiles/awakia">awakia</a>,
                      <time datetime="2013-11-05T01:04:23-08:00">2013/11/05 1:04:23</time>
                    </div>
                                  </div>
                          </div>

                      </div>
        </div>
      </div>
    </div> <!-- ends "main-content" -->

  <menu type="context" id="edit-history-menu">
    <menuitem data-action="$edit" label="ページを編集"></menuitem>
    <menuitem data-action="$history" label="ページの履歴を表示"></menuitem>
  </menu>
  </div></main>

  <!-- Footer -->
  <footer><div class="center">
    <div class="column-container">
      <div class="column-main">
                <p>
          <bdi>&copy; 2005-2014 Mozilla Developer Network and individual contributors<br /> Content is available under <a href="https://developer.mozilla.org/en-US/docs/Project:MDN/About#Copyrights_and_licenses">these licenses</a> &middot; <a href="https://developer.mozilla.org/en-US/docs/Project:MDN/About">About MDN</a> &middot; <a href="https://github.com/mozilla/kuma">Contribute to the code</a> &middot; <a href="https://www.mozilla.org/privacy/websites/">Privacy policy</a></bdi>        </p>
              </div>
      <div class="column-strip">
                        <form class="languages go" method="get" action="/ja/docs/Web">
      <label for="language">他の言語:</label>
      <select id="language" class="wiki-l10n" name="next" dir="ltr">
        <option value="/ja/docs/Web/Guide/DOM/Manipulating_the_browser_history" selected>
          日本語
        </option>
                  <option value="/en-US/docs/Web/Guide/API/DOM/Manipulating_the_browser_history">
            English (US)
          </option>          <option value="/es/docs/DOM/Manipulando_el_historial_del_navegador">
            Español
          </option>          <option value="/fr/docs/Web/Guide/DOM/Manipuler_historique_du_navigateur">
            Français
          </option>          <option value="/zh-CN/docs/DOM/Manipulating_the_browser_history">
            中文 (简体)
          </option>          <option value="/de/docs/Web/Guide/DOM/Manipulating_the_browser_history">
            Deutsch
          </option>          <option value="/zh-TW/docs/Web/Guide/API/DOM/Manipulating_the_browser_history/Manipulating_the_browser_history">
            正體中文 (繁體)
          </option>      </select>
      <noscript><button type="submit">移動</button></noscript>
    </form>
                </div>
    </div>
  </div></footer>

  <!-- site js -->
    <script src="https://developer.mozilla.org/ja/jsi18n/build:46533d5"></script>
  
      <!--[if lte IE 8]><script src="/media/js/libs/selectivizr-1.0.2/selectivizr-build.js"></script><![endif]-->

    <script src="https://login.persona.org/include.js"></script>
<form id="_persona_login" method="post" action="/users/persona/signin" data-csrf-token-url="/users/persona/csrf" data-request='{"siteName": "Mozilla Developer Network", "siteLogo": "/media/redesign/img/opengraph-logo.png"}'>
  <input type="hidden" name="csrfmiddlewaretoken" value="" id="_persona_csrf_token" />
  <input type="hidden" name="next" value="" id="_persona_next_url"/>
  <input type="hidden" name="process" value="" id="_persona_process"/>
  <input type="hidden" name="assertion" id="_persona_assertion"/>
</form>

    <script src="https://developer.cdn.mozilla.net/media/js/main-min.js?build=46533d5"></script>

          <script>
        if(window.mdn && mdn.analytics) mdn.analytics.trackOutboundLinks();
      </script>
    
          <script src="https://developer.cdn.mozilla.net/media/js/wiki-min.js?build=46533d5"></script>
      
    <script type="text/javascript">
      if(window.jQuery) jQuery('.from-search-toc').mozSearchResults('');
  </script>
<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"beacon-3.newrelic.com","queueTime":1,"licenseKey":"42869b6ed3","agent":"js-agent.newrelic.com/nr-476.min.js","transactionName":"b1QHMUtVDRdSW0YKXVYeIxBXVxcNXFYdCEdVUEsSUF8KSkVRVxRBAlUKBkxZBgpH","applicationID":"3172075","errorBeacon":"bam.nr-data.net","applicationTime":889}</script></body>
</html>